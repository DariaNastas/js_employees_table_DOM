{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const table = document.querySelector('table');\n  const tbody = table.querySelector('tbody');\n  const headers = table.querySelectorAll('th');\n  const sortDirection = {};\n\n  headers.forEach((header, index) => {\n    header.addEventListener('click', () => {\n      const currentDirection = sortDirection[index] || 'desc';\n      const newDirection = currentDirection === 'asc' ? 'desc' : 'asc';\n\n      sortDirection[index] = newDirection;\n\n      sortTableByColumn(table, index, newDirection);\n    });\n  });\n\n  function sortTableByColumn(_table, columnIndex, direction) {\n    const rows = [...tbody.querySelectorAll('tr')];\n\n    rows.sort((rowA, rowB) => {\n      const cellA = rowA.cells[columnIndex].innerText.toLowerCase();\n      const cellB = rowB.cells[columnIndex].innerText.toLowerCase();\n\n      let valueA, valueB;\n\n      if (columnIndex === 3) {\n        valueA = parseInt(cellA);\n        valueB = parseInt(cellB);\n      } else if (columnIndex === 4) {\n        valueA = parseFloat(cellA.replace('$', ''));\n        valueB = parseFloat(cellB.replace('$', ''));\n      } else {\n        valueA = cellA;\n        valueB = cellB;\n      }\n\n      if (direction === 'asc') {\n        return valueA > valueB ? 1 : valueA < valueB ? -1 : 0;\n      } else {\n        return valueA < valueB ? 1 : valueA > valueB ? -1 : 0;\n      }\n    });\n\n    tbody.innerHTML = '';\n    rows.forEach((row) => tbody.appendChild(row));\n  }\n\n  selectRow(tbody);\n\n  function selectRow(inputTable) {\n    inputTable.addEventListener('click', (e) => {\n      const selectedRow = e.target.parentElement.sectionRowIndex;\n\n      for (let i = 0; i < tbody.rows.length; i++) {\n        tbody.rows[i].removeAttribute('class');\n      }\n      tbody.rows[selectedRow].setAttribute('class', 'active');\n    });\n  }\n\n  const form = document.createElement('form');\n\n  form.classList.add('new-employee-form');\n\n  form.innerHTML = `\n  <label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\"></label>\n  <label>Position: <input name=\"position\" type=\"text\" data-qa=\"position\"></label>\n  <label>Office: <select name=\"office\" data-qa=\"office\">\n    <option value=\"Tokyo\">Tokyo</option>\n    <option value=\"Singapore\">Singapore</option>\n    <option value=\"London\">London</option>\n    <option value=\"New York\">New York</option>\n    <option value=\"Edinburgh\">Edinburgh</option>\n    <option value=\"San Francisco\">San Francisco</option>\n  </select></label>\n  <label>Age: <input name=\"age\" type=\"number\" data-qa=\"age\"></label>\n  <label>Salary: <input name=\"salary\" type=\"number\" data-qa=\"salary\"></label>\n  <button type=\"submit\">Save to table</button>\n`;\n  document.body.appendChild(form);\n\n  form.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const userName = form.name.value.trim();\n    const position = form.position.value.trim();\n    const office = form.office.value.trim();\n    const age = parseInt(form.age.value, 10);\n    const salary = parseFloat(form.salary.value);\n\n    if (userName.length < 4) {\n      showNotification(\n        'Error',\n        'Name must be at least 4 characters long',\n        'error',\n      );\n\n      return;\n    }\n\n    if (isNaN(age) || age < 18 || age > 90) {\n      showNotification('Error', 'Age must be between 18 and 90', 'error');\n\n      return;\n    }\n\n    if (!position || position.length < 3) {\n      showNotification('Error', 'Invalid position input!', 'error');\n\n      return;\n    }\n\n    const newRow = tbody.insertRow(tbody.rows.length - 1);\n\n    newRow.classList.add('data-row');\n\n    newRow.insertCell().textContent = userName;\n    newRow.insertCell().textContent = position;\n    newRow.insertCell().textContent = office;\n    newRow.insertCell().textContent = age;\n    newRow.insertCell().textContent = `$${Number(salary).toLocaleString('en-US')}`;\n\n    showNotification(\n      'Success',\n      'New employee is successfully added to the table!',\n      'success',\n    );\n    form.reset();\n  });\n\n  function showNotification(title, message, type) {\n    const notification = document.createElement('div');\n\n    notification.className = type;\n    notification.dataset.qa = 'notification';\n    notification.innerHTML = `<strong>${title}</strong>: ${message}`;\n    document.body.appendChild(notification);\n\n    setTimeout(() => {\n      notification.remove();\n    }, 4000);\n  }\n\n  tbody.addEventListener('dblclick', (e) => {\n    const cell = e.target.closest('td');\n\n    if (!cell) {\n      return;\n    }\n\n    const initialText = cell.textContent;\n    const input = document.createElement('input');\n\n    input.type = 'text';\n    input.classList.add('cell-input');\n    input.value = initialText;\n    cell.textContent = '';\n    cell.appendChild(input);\n    input.focus();\n\n    input.addEventListener('blur', () => {\n      const newText = input.value.trim() || initialText;\n\n      cell.textContent = newText;\n    });\n\n    input.addEventListener('keypress', (symbol) => {\n      if (symbol.key === 'Enter') {\n        const newText = input.value.trim() || initialText;\n\n        cell.textContent = newText;\n      }\n    });\n  });\n\n  tbody.addEventListener('dblclick', (e) => {\n    const cell = e.target.closest('td');\n\n    if (!cell || cell.querySelector('input')) {\n      return;\n    }\n\n    const initialText = cell.textContent;\n    const input = document.createElement('input');\n\n    input.type = 'text';\n    input.classList.add('cell-input');\n    input.value = initialText;\n    cell.textContent = '';\n    cell.appendChild(input);\n    input.focus();\n\n    const saveChanges = () => {\n      let newText = input.value.trim();\n\n      if (cell.cellIndex === 4) {\n        const parsedValue = parseFloat(newText.replace(/[$,]/g, ''));\n\n        newText = isNaN(parsedValue)\n          ? initialText\n          : `$${parsedValue.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n      } else if (newText === '') {\n        newText = initialText;\n      }\n\n      cell.textContent = newText;\n    };\n\n    input.addEventListener('blur', saveChanges);\n\n    input.addEventListener('keypress', (symbol) => {\n      if (symbol.key === 'Enter') {\n        saveChanges();\n      }\n    });\n  });\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}